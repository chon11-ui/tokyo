<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>북큐슈 미식 & 온천 여행 가이드</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Chosen Palette: Modern Zen (Stone, Charcoal, Matcha, Sunset Orange) -->
    <!-- Application Structure Plan: 
         1. Header: Elegant title and brief intro.
         2. Navigation (Train Line Concept): Tabs to switch between Fukuoka, Yufuin, Beppu, and Onsen Guide.
         3. Dynamic Content Area:
            - Split layout (Desktop) / Stacked (Mobile).
            - Left: List of spots (Restaurants/Onsens) with quick summaries.
            - Right: Detailed view + 'Experience Metrics' Radar Chart (visualizing taste/wait time/vibe) + Contextual tips.
         4. Onsen Guide Section: Interactive checklist for etiquette and specific spot recommendations.
         This structure allows users to 'hop' between cities like a train journey, then 'drill down' into specific spots to see data-driven comparisons.
    -->

    <!-- Visualization & Content Choices:
         - Radar Chart (Chart.js): chosen to visualize the "Experience Profile" of each restaurant (Taste Intensity, Wait Time, Uniqueness, Value, Accessibility). Justification: Helps users choose based on trade-offs (e.g., High wait time vs. High taste).
         - Interactive Cards: Used for restaurant lists to minimize clutter.
         - Progress/Checklist: Used for Onsen Etiquette to encourage active reading.
         - NO SVG/Mermaid: All icons are FontAwesome or Unicode. Charts are Canvas.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'zen-bg': '#fdfbf7', // Warm rice paper
                        'zen-dark': '#2c2c2c', // Sumi ink
                        'zen-accent': '#d97706', // Sunset orange (food/warmth)
                        'zen-green': '#4d7c0f', // Matcha (nature/onsen)
                        'zen-stone': '#e7e5e4',
                    },
                    fontFamily: {
                        sans: ['Noto Sans KR', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #fdfbf7;
            color: #2c2c2c;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            height: 300px;
            max-height: 400px;
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        .nav-active {
            border-bottom: 3px solid #d97706;
            color: #d97706;
            font-weight: bold;
        }
        .nav-inactive {
            border-bottom: 3px solid transparent;
            color: #78716c;
        }
        .nav-inactive:hover {
            color: #2c2c2c;
            border-bottom: 3px solid #e7e5e4;
        }
    </style>
</head>
<body class="font-sans antialiased min-h-screen flex flex-col">

    <!-- Header Section -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <i class="fas fa-torii-gate text-2xl text-zen-accent"></i>
                <div>
                    <h1 class="text-xl md:text-2xl font-bold tracking-tight text-zen-dark">북큐슈 미식 & 온천 가이드</h1>
                    <p class="text-xs text-gray-500 hidden md:block">후쿠오카 · 유후인 · 벳푸 완전 정복</p>
                </div>
            </div>
            <button onclick="resetApp()" class="text-sm bg-zen-stone hover:bg-gray-300 px-3 py-1 rounded-full transition">
                <i class="fas fa-home mr-1"></i> 처음으로
            </button>
        </div>
        
        <!-- Navigation Tabs -->
        <nav class="max-w-6xl mx-auto px-4 mt-2 overflow-x-auto no-scrollbar">
            <div class="flex space-x-8 min-w-max border-b border-gray-100">
                <button onclick="switchCity('fukuoka')" id="btn-fukuoka" class="nav-btn nav-active pb-3 px-2 text-sm md:text-base transition-colors">
                    <i class="fas fa-city mr-1"></i> 후쿠오카 (하카타/텐진)
                </button>
                <button onclick="switchCity('yufuin')" id="btn-yufuin" class="nav-btn nav-inactive pb-3 px-2 text-sm md:text-base transition-colors">
                    <i class="fas fa-mountain mr-1"></i> 유후인 (온천마을)
                </button>
                <button onclick="switchCity('beppu')" id="btn-beppu" class="nav-btn nav-inactive pb-3 px-2 text-sm md:text-base transition-colors">
                    <i class="fas fa-hot-tub mr-1"></i> 벳푸 (지옥온천)
                </button>
                <button onclick="switchCity('guide')" id="btn-guide" class="nav-btn nav-inactive pb-3 px-2 text-sm md:text-base transition-colors">
                    <i class="fas fa-info-circle mr-1"></i> 온천 이용 가이드
                </button>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="flex-grow max-w-6xl mx-auto px-4 py-8 w-full">
        
        <!-- Dynamic Intro Text -->
        <section id="city-intro" class="mb-8 p-6 bg-white rounded-xl shadow-sm border-l-4 border-zen-accent">
            <h2 id="intro-title" class="text-2xl font-bold mb-2">여행의 시작, 후쿠오카</h2>
            <p id="intro-desc" class="text-gray-600 leading-relaxed">
                패키지 여행의 시작과 끝이 되는 도시, 후쿠오카입니다. 
                저녁 자유 시간에는 하카타와 텐진 지역의 활기찬 분위기 속에서 
                현지인들이 사랑하는 모츠나베나 라멘을 즐겨보세요.
            </p>
        </section>

        <!-- Content Grid: List (Left) & Detail/Viz (Right) -->
        <div id="content-grid" class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            
            <!-- Left Column: Spot List -->
            <div class="lg:col-span-5 space-y-4">
                <h3 class="text-lg font-bold text-gray-800 flex items-center">
                    <i class="fas fa-list-ul mr-2 text-zen-green"></i> 추천 스팟 리스트
                </h3>
                <div id="spot-list" class="space-y-3">
                    <!-- JS will populate cards here -->
                </div>
            </div>

            <!-- Right Column: Detail & Visualization -->
            <div class="lg:col-span-7">
                <div class="bg-white rounded-xl shadow-lg p-6 sticky top-24">
                    
                    <!-- Detail Header -->
                    <div class="flex justify-between items-start mb-6 border-b border-gray-100 pb-4">
                        <div>
                            <span id="detail-badge" class="inline-block px-2 py-1 bg-zen-accent text-white text-xs rounded mb-2">BEST</span>
                            <h2 id="detail-title" class="text-2xl font-bold text-gray-900">식당을 선택해주세요</h2>
                            <p id="detail-subtitle" class="text-gray-500 text-sm mt-1">좌측 리스트에서 자세한 정보를 확인하세요.</p>
                        </div>
                        <div class="text-right hidden md:block">
                            <i id="detail-icon" class="fas fa-utensils text-4xl text-gray-200"></i>
                        </div>
                    </div>

                    <!-- Description Text -->
                    <div class="mb-6">
                        <p id="detail-desc" class="text-gray-700 leading-relaxed mb-4">
                            추천 맛집의 특징과 팁을 이곳에서 확인하실 수 있습니다.
                        </p>
                        <div id="detail-tips" class="bg-orange-50 p-4 rounded-lg text-sm text-orange-900 hidden">
                            <strong class="block mb-1"><i class="fas fa-lightbulb text-orange-500 mr-1"></i> 방문 꿀팁</strong>
                            <span id="detail-tips-text"></span>
                        </div>
                    </div>

                    <!-- Visualization Container -->
                    <div id="chart-section" class="mt-8 border-t border-gray-100 pt-6">
                        <h4 class="text-sm font-bold text-gray-500 uppercase tracking-wide mb-4 text-center">경험 분석 (Experience Profile)</h4>
                        <div class="chart-container">
                            <canvas id="experienceChart"></canvas>
                        </div>
                        <p class="text-xs text-center text-gray-400 mt-2">
                            * 점수는 구글 평점 및 현지 대기 시간 등을 종합하여 추산한 수치입니다.
                        </p>
                    </div>

                </div>
            </div>
        </div>

        <!-- Onsen Guide Special Section (Hidden by default) -->
        <div id="onsen-guide-section" class="hidden">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                
                <!-- Etiquette Checklist -->
                <div class="bg-white rounded-xl shadow p-6">
                    <h3 class="text-xl font-bold mb-4 flex items-center text-zen-dark">
                        <i class="fas fa-check-circle text-zen-green mr-2"></i> 온천 에티켓 체크리스트
                    </h3>
                    <p class="text-sm text-gray-500 mb-6">입욕 전 꼭 확인해야 할 필수 매너입니다. 클릭해서 확인해보세요!</p>
                    
                    <ul class="space-y-4">
                        <li class="flex items-start cursor-pointer hover:bg-gray-50 p-2 rounded transition" onclick="toggleCheck(this)">
                            <div class="flex-shrink-0 mt-1 mr-3 w-5 h-5 border-2 border-gray-300 rounded-full flex items-center justify-center check-circle">
                                <i class="fas fa-check text-white text-xs opacity-0"></i>
                            </div>
                            <div>
                                <span class="font-bold block text-gray-800">입욕 전 샤워 필수</span>
                                <span class="text-sm text-gray-500">탕에 들어가기 전 머리부터 발끝까지 깨끗이 씻으세요.</span>
                            </div>
                        </li>
                        <li class="flex items-start cursor-pointer hover:bg-gray-50 p-2 rounded transition" onclick="toggleCheck(this)">
                            <div class="flex-shrink-0 mt-1 mr-3 w-5 h-5 border-2 border-gray-300 rounded-full flex items-center justify-center check-circle">
                                <i class="fas fa-check text-white text-xs opacity-0"></i>
                            </div>
                            <div>
                                <span class="font-bold block text-gray-800">머리카락 묶기</span>
                                <span class="text-sm text-gray-500">긴 머리는 탕 물에 닿지 않도록 묶거나 감싸야 합니다.</span>
                            </div>
                        </li>
                        <li class="flex items-start cursor-pointer hover:bg-gray-50 p-2 rounded transition" onclick="toggleCheck(this)">
                            <div class="flex-shrink-0 mt-1 mr-3 w-5 h-5 border-2 border-gray-300 rounded-full flex items-center justify-center check-circle">
                                <i class="fas fa-check text-white text-xs opacity-0"></i>
                            </div>
                            <div>
                                <span class="font-bold block text-gray-800">수건 금지</span>
                                <span class="text-sm text-gray-500">탕 안에는 수건을 넣지 마세요. 머리 위에 얹거나 밖에 두세요.</span>
                            </div>
                        </li>
                         <li class="flex items-start cursor-pointer hover:bg-gray-50 p-2 rounded transition" onclick="toggleCheck(this)">
                            <div class="flex-shrink-0 mt-1 mr-3 w-5 h-5 border-2 border-gray-300 rounded-full flex items-center justify-center check-circle">
                                <i class="fas fa-check text-white text-xs opacity-0"></i>
                            </div>
                            <div>
                                <span class="font-bold block text-gray-800">문신(타투) 주의</span>
                                <span class="text-sm text-gray-500">작은 문신은 테이프로 가리고, 크다면 가족탕을 이용하세요.</span>
                            </div>
                        </li>
                    </ul>
                </div>

                <!-- Tips & Features -->
                <div class="space-y-6">
                    <div class="bg-blue-50 rounded-xl p-6 border border-blue-100">
                        <h4 class="font-bold text-blue-900 mb-2"><i class="fas fa-coins mr-2"></i> 입욕세 (Tax)</h4>
                        <p class="text-sm text-blue-800">
                            숙박 시 1인당 약 <strong>150엔~250엔</strong>의 입욕세가 별도로 부과됩니다. 
                            체크아웃 시 계산되니 당황하지 마세요!
                        </p>
                    </div>
                    
                    <div class="bg-amber-50 rounded-xl p-6 border border-amber-100">
                        <h4 class="font-bold text-amber-900 mb-2"><i class="fas fa-wine-bottle mr-2"></i> 목욕 후 국룰</h4>
                        <p class="text-sm text-amber-800">
                            목욕 후 자판기에서 뽑아 마시는 <strong>차가운 병 우유(커피/과일)</strong>는 필수 코스입니다. 
                            밤에는 편의점 '모찌롤'과 함께 즐겨보세요.
                        </p>
                    </div>

                    <div class="bg-white rounded-xl shadow p-6">
                        <h4 class="font-bold text-gray-800 mb-3">지역별 온천 특징</h4>
                        <div class="flex space-x-4">
                            <div class="flex-1 text-center p-3 bg-gray-50 rounded-lg">
                                <strong class="block text-zen-accent mb-1">벳푸 (Beppu)</strong>
                                <span class="text-xs text-gray-500">유황 냄새, 뜨거운 물,<br>지옥 순례, 다양한 수질</span>
                            </div>
                            <div class="flex-1 text-center p-3 bg-gray-50 rounded-lg">
                                <strong class="block text-zen-green mb-1">유후인 (Yufuin)</strong>
                                <span class="text-xs text-gray-500">유후다케 뷰, 노천탕,<br>맑고 부드러운 단순천</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <footer class="bg-zen-dark text-white py-8 mt-auto">
        <div class="max-w-6xl mx-auto px-4 text-center">
            <p class="text-sm opacity-75">본 가이드는 제공된 여행 일정과 현지 데이터를 기반으로 작성되었습니다.</p>
            <p class="text-xs mt-2 opacity-50">&copy; 2024 Kyushu Travel Assistant</p>
        </div>
    </footer>

    <!-- Data & Logic -->
    <script>
        // --- Data Store ---
        const appData = {
            fukuoka: {
                title: "후쿠오카 (Fukuoka) - 미식의 도시",
                desc: "하카타와 텐진은 규슈 최고의 번화가입니다. 쇼핑과 관광 후, 저녁에는 진한 국물의 라멘이나 고소한 모츠나베로 하루를 마무리하는 것이 정석입니다.",
                spots: [
                    {
                        id: "f1",
                        name: "하카타 모츠나베 오오야마",
                        sub: "곱창전골 전문점",
                        desc: "후쿠오카 대표 음식 모츠나베의 정석. 된장(미소) 베이스 국물이 한국인 입맛에 가장 잘 맞습니다. 1인 식사도 가능한 매장이 많아 혼밥족에게도 인기입니다.",
                        tips: "점심에는 가성비 좋은 런치 세트를, 저녁에는 짬뽕면 사리를 추가해 드세요.",
                        type: "food",
                        stats: [9, 8, 9, 7, 9], // Taste, Uniqueness, Atmosphere, WaitTime(Inv), Value
                        labels: ["맛의 깊이", "독창성", "분위기", "대기 편의성", "가성비"]
                    },
                    {
                        id: "f2",
                        name: "하카타 잇소우",
                        sub: "현지 1위 돈코츠 라멘",
                        desc: "현지인들이 가장 길게 줄을 서는 라멘집. '돈코츠 카푸치노'라 불릴 정도로 거품이 뜬 진하고 크리미한 국물이 특징입니다.",
                        tips: "돼지 육향이 강해 호불호가 갈릴 수 있습니다. 냄새에 민감하다면 '신신라멘'을 추천합니다.",
                        type: "food",
                        stats: [10, 9, 6, 2, 8],
                        labels: ["맛의 깊이", "독창성", "분위기", "대기 편의성", "가성비"]
                    },
                    {
                        id: "f3",
                        name: "효탄 스시",
                        sub: "텐진 가성비 스시",
                        desc: "텐진 중심가에 위치한 전설적인 가성비 스시집. 네타(회)가 큼직하고 신선하여 현지인과 관광객 모두에게 사랑받습니다.",
                        tips: "점심 특선 '장어 덮밥'이나 '오늘의 특선 스시'가 베스트 메뉴입니다.",
                        type: "food",
                        stats: [8, 7, 7, 4, 10],
                        labels: ["맛의 깊이", "독창성", "분위기", "대기 편의성", "가성비"]
                    }
                ]
            },
            yufuin: {
                title: "유후인 (Yufuin) - 힐링 온천 마을",
                desc: "아기자기한 상점가와 긴린코 호수가 있는 동화 같은 마을입니다. 길거리 간식을 즐기며 산책하거나, 유후다케 산을 바라보며 온천을 즐겨보세요.",
                spots: [
                    {
                        id: "y1",
                        name: "유후마부시 신",
                        sub: "3가지 맛 덮밥",
                        desc: "유후인 필수 코스. 소고기(분고규), 장어, 닭고기 중 선택하여 뚝배기 밥으로 즐기는 '마부시'가 일품입니다.",
                        tips: "긴린코 호수 본점과 역전점이 있습니다. 웨이팅이 기므로 오픈런을 추천합니다.",
                        type: "food",
                        stats: [9, 8, 8, 3, 7],
                        labels: ["맛의 깊이", "독창성", "분위기", "대기 편의성", "가성비"]
                    },
                    {
                        id: "y2",
                        name: "갓파 쇼쿠도",
                        sub: "토리텐 정식",
                        desc: "유후인 식재료를 사용한 깔끔한 가정식. 오이타 명물인 '토리텐(닭튀김)'이 얇고 바삭해 인기가 많습니다.",
                        tips: "유즈코쇼(유자 후추)를 곁들여 먹으면 풍미가 살아납니다.",
                        type: "food",
                        stats: [8, 6, 9, 6, 8],
                        labels: ["맛의 깊이", "독창성", "분위기", "대기 편의성", "가성비"]
                    },
                    {
                        id: "y3",
                        name: "유후인 길거리 간식",
                        sub: "금상 고로케 & 미르히",
                        desc: "유후인 산책의 묘미. 겉바속촉 고로케와 따뜻하게 떠먹는 치즈케이크(미르히)는 놓치지 마세요.",
                        tips: "간식 배를 남겨두세요! 탕후루나 벌꿀 아이스크림 등 먹거리가 많습니다.",
                        type: "snack",
                        stats: [8, 7, 8, 8, 9],
                        labels: ["맛의 깊이", "독창성", "분위기", "대기 편의성", "가성비"]
                    },
                    {
                        id: "y4",
                        name: "무소엔 (Musouen)",
                        sub: "당일 온천 추천",
                        desc: "유후다케 산이 웅장하게 보이는 압도적인 개방감의 노천탕. 여성 노천탕의 뷰가 특히 유명합니다.",
                        tips: "수건은 유료이므로 개인 수건을 지참하면 좋습니다.",
                        type: "onsen",
                        stats: [9, 10, 10, 7, 8],
                        labels: ["수질 만족도", "뷰(경치)", "시설 규모", "접근성", "가성비"]
                    }
                ]
            },
            beppu: {
                title: "벳푸 (Beppu) - 온천 증기의 도시",
                desc: "마을 곳곳에서 하얀 증기가 피어오르는 온천의 도시입니다. '지옥 찜' 요리와 독특한 온천 문화를 체험할 수 있습니다.",
                spots: [
                    {
                        id: "b1",
                        name: "토요켄",
                        sub: "토리텐의 발상지",
                        desc: "100년 전통을 자랑하는 벳푸 명물 '토리텐'의 원조. 겉은 바삭하고 속은 촉촉한 튀김의 정석입니다.",
                        tips: "특제 유자 폰즈 소스에 찍어 드세요. 주차장이 넓어 렌터카 여행객에게도 좋습니다.",
                        type: "food",
                        stats: [9, 9, 8, 5, 8],
                        labels: ["맛의 깊이", "독창성", "분위기", "대기 편의성", "가성비"]
                    },
                    {
                        id: "b2",
                        name: "지옥찜 공방 칸나와",
                        sub: "온천 증기 체험식",
                        desc: "100도에 가까운 온천 증기로 식재료를 직접 쪄 먹는 이색 체험 식당. 맛보다는 만드는 재미가 큽니다.",
                        tips: "해산물 세트와 옥수수/고구마가 인기. 대기 시간이 길 수 있습니다.",
                        type: "food",
                        stats: [7, 10, 9, 4, 6],
                        labels: ["맛의 깊이", "독창성", "분위기", "대기 편의성", "가성비"]
                    },
                    {
                        id: "b3",
                        name: "효탄 온천",
                        sub: "미슐랭 3스타 온천",
                        desc: "다양한 탕과 모래찜질, 폭포탕을 갖춘 대형 온천 시설. 가족탕이 있어 프라이빗한 이용도 가능합니다.",
                        tips: "문신(타투)이 있어도 입장이 가능한 몇 안 되는 온천 중 하나입니다.",
                        type: "onsen",
                        stats: [9, 8, 9, 8, 9],
                        labels: ["수질 만족도", "뷰(경치)", "시설 규모", "접근성", "가성비"]
                    }
                ]
            }
        };

        let currentChart = null;
        let activeCity = 'fukuoka';

        // --- Functions ---

        function init() {
            switchCity('fukuoka');
        }

        function switchCity(cityKey) {
            activeCity = cityKey;
            
            // UI Tab Update
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('nav-active');
                btn.classList.add('nav-inactive');
            });
            document.getElementById(`btn-${cityKey}`).classList.add('nav-active');
            document.getElementById(`btn-${cityKey}`).classList.remove('nav-inactive');

            // View Switching
            if (cityKey === 'guide') {
                document.getElementById('content-grid').classList.add('hidden');
                document.getElementById('city-intro').classList.add('hidden');
                document.getElementById('onsen-guide-section').classList.remove('hidden');
            } else {
                document.getElementById('onsen-guide-section').classList.add('hidden');
                document.getElementById('content-grid').classList.remove('hidden');
                document.getElementById('city-intro').classList.remove('hidden');
                
                // Populate Data
                const cityData = appData[cityKey];
                document.getElementById('intro-title').innerText = cityData.title;
                document.getElementById('intro-desc').innerText = cityData.desc;
                
                renderSpotList(cityData.spots);
                
                // Select first item by default
                if(cityData.spots.length > 0) {
                    renderDetail(cityData.spots[0]);
                }
            }
        }

        function renderSpotList(spots) {
            const listContainer = document.getElementById('spot-list');
            listContainer.innerHTML = '';

            spots.forEach(spot => {
                const icon = spot.type === 'onsen' ? 'fa-hot-tub' : (spot.type === 'snack' ? 'fa-cookie-bite' : 'fa-utensils');
                const color = spot.type === 'onsen' ? 'text-zen-green' : 'text-zen-accent';
                
                const card = document.createElement('div');
                card.className = 'bg-white p-4 rounded-lg shadow-sm border border-gray-100 cursor-pointer card-hover flex justify-between items-center';
                card.onclick = () => renderDetail(spot);
                card.innerHTML = `
                    <div class="flex items-center">
                        <div class="w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center mr-4">
                            <i class="fas ${icon} ${color}"></i>
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-800">${spot.name}</h4>
                            <p class="text-xs text-gray-500">${spot.sub}</p>
                        </div>
                    </div>
                    <i class="fas fa-chevron-right text-gray-300"></i>
                `;
                listContainer.appendChild(card);
            });
        }

        function renderDetail(spot) {
            // Text Update
            document.getElementById('detail-title').innerText = spot.name;
            document.getElementById('detail-badge').innerText = spot.type === 'onsen' ? 'ONSEN' : 'GOURMET';
            document.getElementById('detail-badge').className = `inline-block px-2 py-1 text-xs rounded mb-2 text-white ${spot.type === 'onsen' ? 'bg-zen-green' : 'bg-zen-accent'}`;
            document.getElementById('detail-subtitle').innerText = spot.sub;
            document.getElementById('detail-desc').innerText = spot.desc;
            
            const tipsContainer = document.getElementById('detail-tips');
            if (spot.tips) {
                document.getElementById('detail-tips-text').innerText = spot.tips;
                tipsContainer.classList.remove('hidden');
            } else {
                tipsContainer.classList.add('hidden');
            }

            // Chart Update
            updateChart(spot);
        }

        function updateChart(spot) {
            const ctx = document.getElementById('experienceChart').getContext('2d');
            
            if (currentChart) {
                currentChart.destroy();
            }

            const chartColor = spot.type === 'onsen' ? 'rgba(77, 124, 15, 0.5)' : 'rgba(217, 119, 6, 0.5)';
            const borderColor = spot.type === 'onsen' ? '#4d7c0f' : '#d97706';

            currentChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: spot.labels,
                    datasets: [{
                        label: spot.name,
                        data: spot.stats,
                        backgroundColor: chartColor,
                        borderColor: borderColor,
                        pointBackgroundColor: borderColor,
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: borderColor
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: '#e5e7eb' },
                            grid: { color: '#e5e7eb' },
                            pointLabels: {
                                font: { size: 12, family: "'Noto Sans KR', sans-serif" },
                                color: '#4b5563'
                            },
                            suggestedMin: 0,
                            suggestedMax: 10,
                            ticks: { display: false } // Hide numbers for cleaner look
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: 'rgba(44, 44, 44, 0.9)',
                            padding: 10,
                            cornerRadius: 4
                        }
                    }
                }
            });
        }

        function toggleCheck(element) {
            const checkCircle = element.querySelector('.check-circle');
            const checkIcon = element.querySelector('.fa-check');
            
            if (checkCircle.classList.contains('bg-zen-green')) {
                // Uncheck
                checkCircle.classList.remove('bg-zen-green', 'border-transparent');
                checkCircle.classList.add('border-gray-300');
                checkIcon.classList.add('opacity-0');
            } else {
                // Check
                checkCircle.classList.add('bg-zen-green', 'border-transparent');
                checkCircle.classList.remove('border-gray-300');
                checkIcon.classList.remove('opacity-0');
            }
        }

        function resetApp() {
            switchCity('fukuoka');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize on load
        window.addEventListener('load', init);

    </script>
</body>
</html>
